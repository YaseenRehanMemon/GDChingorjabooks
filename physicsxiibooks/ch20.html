<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 20: AC Circuits</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        /* 1. CSS Variables for Theming */
        :root {
            /* Light Theme */
            --bg-color: #f4f7f9;
            --text-color: #333;
            --header-bg: #ffffff;
            --sidebar-bg: #ffffff;
            --card-bg: #ffffff;
            --accent-color: #007bff;
            --border-color: #e0e0e0;
            --shadow-color: rgba(0, 0, 0, 0.05);
            --table-header-bg: #f1f1f1;
            --theme-toggle-bg: #e0e0e0;
            --theme-toggle-slider: #fff;
            --theme-sun-color: #f39c12;
            --theme-moon-color: #7f8c8d;
        }

        /* 2. Base Styles */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        .page-container {
            display: grid;
            grid-template-columns: 240px 1fr;
            grid-template-rows: auto 1fr;
            grid-template-areas:
                "header header"
                "sidebar content";
            min-height: 100vh;
        }

        h1, h2, h3, h4 {
            color: var(--accent-color);
            font-weight: 600;
        }

        h1 { font-size: 2rem; }
        h2 { font-size: 1.75rem; border-bottom: 2px solid var(--border-color); padding-bottom: 10px; margin-top: 40px; }
        h3 { font-size: 1.4rem; }
        h4 { font-size: 1.1rem; }

        p, li {
            font-size: 1rem;
        }

        a {
            color: var(--accent-color);
            text-decoration: none;
            transition: color 0.2s;
        }
        a:hover {
            text-decoration: underline;
        }

        /* 3. Header */
        header {
            grid-area: header;
            background-color: var(--header-bg);
            padding: 1rem 2rem;
            border-bottom: 1px solid var(--border-color);
            box-shadow: 0 2px 5px var(--shadow-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        /* 4. Sidebar Navigation */
        .sidebar {
            grid-area: sidebar;
            background-color: var(--sidebar-bg);
            padding: 2rem;
            border-right: 1px solid var(--border-color);
            position: sticky;
            top: 75px; /* Height of header */
            height: calc(100vh - 75px);
            overflow-y: auto;
        }

        .sidebar h2 {
            margin-top: 0;
            border-bottom: none;
            font-size: 1.5rem;
        }

        .sidebar ul {
            list-style: none;
            padding: 0;
        }

        .sidebar li a {
            display: block;
            padding: 0.5rem 0;
            color: var(--text-color);
            font-weight: 400;
            border-left: 3px solid transparent;
            padding-left: 10px;
        }

        .sidebar li a:hover {
            color: var(--accent-color);
            background-color: var(--bg-color);
            border-left: 3px solid var(--accent-color);
            text-decoration: none;
        }

        /* 5. Main Content */
        .content {
            grid-area: content;
            padding: 2rem 3rem;
        }

        section {
            margin-bottom: 40px;
        }

        /* 6. Components (Cards, Tables) */
        .card {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1rem;
            box-shadow: 0 4px 8px var(--shadow-color);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px var(--shadow-color);
        }

        .card.formula {
            background-color: var(--sidebar-bg);
            border-left: 5px solid var(--accent-color);
        }

        .card ul, .card ol {
            padding-left: 20px;
        }

        .card-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
        }

        th, td {
            text-align: left;
            padding: 12px;
            border-bottom: 1px solid var(--border-color);
        }

        thead {
            background-color: var(--table-header-bg);
            font-weight: 600;
        }

        tbody tr:hover {
            background-color: var(--bg-color);
        }

        /* 7. Theme Toggle Switch */
        .theme-toggle-checkbox {
            display: none; /* Hide the actual checkbox */
        }

        .theme-toggle-label {
            background: var(--theme-toggle-bg);
            border-radius: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 5px;
            position: relative;
            height: 26px;
            width: 50px;
        }

        .theme-toggle-label .sun, .theme-toggle-label .moon {
            font-size: 14px;
            line-height: 1;
        }
        .theme-toggle-label .sun { color: var(--theme-sun-color); }
        .theme-toggle-label .moon { color: var(--theme-moon-color); }

        .theme-toggle-label::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 4px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: var(--theme-toggle-slider);
            transition: transform 0.3s ease;
        }

        .theme-toggle-checkbox:checked + .page-container {
            /* This empty selector is for specificity to trigger theme change */
        }

        /* Logic to apply dark mode to the body */
        .theme-toggle-checkbox:checked ~ .page-container {
            --bg-color: #1a1a2e;
            --text-color: #e0e0e0;
            --header-bg: #162447;
            --sidebar-bg: #162447;
            --card-bg: #1f4068;
            --accent-color: #17e9e0;
            --border-color: #3a3a5a;
            --shadow-color: rgba(0, 0, 0, 0.2);
            --table-header-bg: #1f4068;
            --theme-toggle-bg: #1f4068;
            --theme-toggle-slider: #1a1a2e;
            --theme-sun-color: #bdc3c7;
            --theme-moon-color: #f1c40f;
        }

        .theme-toggle-checkbox:checked ~ .page-container .theme-toggle-label::after {
            transform: translateX(24px);
        }


        /* 8. Responsive Design */
        @media (max-width: 768px) {
            .page-container {
                grid-template-columns: 1fr;
                grid-template-areas:
                    "header"
                    "sidebar"
                    "content";
            }

            .sidebar {
                position: static;
                height: auto;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
                padding: 1rem;
            }

            .sidebar h2 {
                display: none;
            }

            .sidebar ul {
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                justify-content: center;
            }
            
            .sidebar li a {
                padding: 8px 12px;
                border-radius: 20px;
                border-left: none;
                background-color: var(--bg-color);
            }

            .sidebar li a:hover {
                background-color: var(--accent-color);
                color: var(--header-bg);
            }

            header {
                padding: 1rem;
            }

            h1 {
                font-size: 1.5rem;
            }

            .content {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <input type="checkbox" id="theme-toggle" class="theme-toggle-checkbox">
    
    <div class="page-container">
        <header>
            <h1>Chapter 20: AC Circuits</h1>
            <label for="theme-toggle" class="theme-toggle-label">
                <span class="sun">Light</span>
                <span class="moon">Dark</span>
            </label>
        </header>

        <nav class="sidebar">
            <h2>Navigation</h2>
            <ul>
                <li><a href="#intro">Alternating Current</a></li>
                <li><a href="#phasors">AC Components & Phasors</a></li>
                <li><a href="#rlc">RLC Circuits</a></li>
                <li><a href="#resonance">Resonance</a></li>
                <li><a href="#power">Power in AC Circuits</a></li>
                <li><a href="#summary">Chapter Summary</a></li>
            </ul>
        </nav>

        <main class="content">
            <section id="intro">
                <h2>Alternating Current (AC)</h2>
                <p><b>Alternating Current (AC)</b> is a type of electrical current in which the flow of electric charge periodically reverses direction. This is in contrast to Direct Current (DC), where the charge flows only in one direction. AC is the form of electricity delivered to homes and businesses.</p>
                <div class="card">
                    <h3>Key AC Terminologies</h3>
                    <ul>
                        <li><b>Waveform:</b> The shape of the current or voltage over time, which is typically a sine wave. \(V(t) = V_0 \sin(\omega t)\).</li>
                        <li><b>Peak Value (\(V_0, I_0\)):</b> The maximum amplitude of the voltage or current.</li>
                        <li><b>Frequency (\(f\)):</b> The number of complete cycles per second, measured in Hertz (Hz).</li>
                        <li><b>Period (\(T\)):</b> The time for one complete cycle (\(T = 1/f\)).</li>
                        <li><b>RMS Value:</b> The Root Mean Square value is the effective value of AC. It's the equivalent DC value that would deliver the same amount of power. For a sine wave, \(V_{rms} = V_0 / \sqrt{2}\) and \(I_{rms} = I_0 / \sqrt{2}\).</li>
                    </ul>
                </div>
            </section>

            <section id="phasors">
                <h2>AC Components and Phasors</h2>
                <p>Resistors, capacitors, and inductors behave differently in AC circuits. We use <b>phasors</b>—rotating vectors—to analyze the phase relationships between voltage and current for each component.</p>
                
                <table>
                    <thead>
                        <tr>
                            <th>Component</th>
                            <th>Opposition to Current</th>
                            <th>Phase Relationship</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><b>Resistor (R)</b></td>
                            <td>Resistance (\(R\))</td>
                            <td>Voltage and current are <b>in phase</b>.</td>
                        </tr>
                        <tr>
                            <td><b>Capacitor (C)</b></td>
                            <td>Capacitive Reactance (\(X_C = 1 / \omega C\))</td>
                            <td>Current <b>leads</b> voltage by 90° (\(\pi/2\) radians).</td>
                        </tr>
                        <tr>
                            <td><b>Inductor (L)</b></td>
                            <td>Inductive Reactance (\(X_L = \omega L\))</td>
                            <td>Current <b>lags</b> voltage by 90° (\(\pi/2\) radians).</td>
                        </tr>
                    </tbody>
                </table>
                 <p><b>Reactance</b> (\(X_C\) and \(X_L\)) is the opposition to current flow for capacitors and inductors. It is frequency-dependent and measured in Ohms (\(\Omega\)).</p>
            </section>
            
            <section id="rlc">
                <h2>The Series RLC Circuit</h2>
                <p>When a resistor, inductor, and capacitor are connected in series, their individual oppositions to the current combine to give a total opposition called <b>impedance</b>.</p>
                <div class="card">
                    <h3>Impedance (Z)</h3>
                    <p>Impedance is the total opposition to current flow in an AC circuit. It is a vector sum of resistance and the total reactance (\(X_L - X_C\)).</p>
                    <div class="card formula">
                        <h4>Impedance Formula</h4>
                        \[ Z = \sqrt{R^2 + (X_L - X_C)^2} \]
                        <p>Ohm's Law for AC circuits is then \(V_{rms} = I_{rms}Z\).</p>
                    </div>
                </div>
                 <div class="card">
                    <h3>Phase Angle (\(\phi\))</h3>
                    <p>The phase angle is the angle between the voltage and current in the overall circuit.</p>
                     <div class="card formula">
                       \[ \tan(\phi) = \frac{X_L - X_C}{R} \]
                        <ul>
                           <li>If \(X_L > X_C\), the circuit is inductive and the current lags the voltage.</li>
                           <li>If \(X_C > X_L\), the circuit is capacitive and the current leads the voltage.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="resonance">
                <h2>Resonance in an RLC Circuit</h2>
                <p><b>Resonance</b> is a special condition in a series RLC circuit that occurs when the inductive reactance equals the capacitive reactance (\(X_L = X_C\)).</p>
                <div class="card">
                    <h3>At Resonance:</h3>
                    <ul>
                        <li>The impedance of the circuit is at its <b>minimum</b> value, equal only to the resistance (\(Z=R\)).</li>
                        <li>The current in the circuit reaches its <b>maximum</b> value.</li>
                        <li>The circuit behaves purely resistively, and the voltage and current are <b>in phase</b> (\(\phi = 0\)).</li>
                    </ul>
                    <div class="card formula">
                        <h4>Resonant Frequency (\(f_0\))</h4>
                        \[ f_0 = \frac{1}{2\pi\sqrt{LC}} \]
                    </div>
                    <p>Resonance is the principle behind tuning circuits in radios and televisions.</p>
                </div>
            </section>
            
            <section id="power">
                <h2>Power in AC Circuits</h2>
                <p>In an AC circuit, the power delivered is not simply the product of RMS voltage and current, because the two may be out of phase. Only the component of the voltage that is in phase with the current delivers average power.</p>
                <div class="card formula">
                    <h4>Average Power (\(P_{avg}\))</h4>
                    \[ P_{avg} = V_{rms} I_{rms} \cos(\phi) \]
                    <p>The term <b>\(\cos(\phi)\)</b> is called the <b>power factor</b>. It ranges from 0 to 1 and represents the fraction of the total power that is delivered as useful power.</p>
                </div>
            </section>

            <section id="summary">
                <h2>Chapter Summary</h2>
                <p>AC circuits are fundamental to modern electrical systems. Their behavior is governed by the frequency-dependent properties of capacitors and inductors.</p>
                <div class="card">
                    <ul>
                        <li><b>AC voltage and current</b> vary sinusoidally. Their effective values are given by the <b>RMS value</b> (\(V_{rms} = V_0/\sqrt{2}\)).</li>
                        <li>In AC circuits, resistors have resistance, while capacitors and inductors have <b>reactance</b> (\(X_C\) and \(X_L\)), which depends on frequency.</li>
                        <li>The total opposition in an RLC circuit is called <b>impedance (\(Z\))</b>, found by the vector sum of resistance and total reactance.</li>
                        <li>The <b>phase angle (\(\phi\))</b> describes whether the current leads or lags the voltage.</li>
                        <li><b>Resonance</b> occurs when \(X_L = X_C\), causing the current to be maximum. The resonant frequency is \(f_0 = 1 / (2\pi\sqrt{LC})\).</li>
                        <li>The average power delivered to a circuit is \(P_{avg} = V_{rms} I_{rms} \cos(\phi)\), where \(\cos(\phi)\) is the <b>power factor</b>.</li>
                    </ul>
                </div>
            </section>
        </main>
    </div>
</body>
</html>
